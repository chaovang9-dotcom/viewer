
:root{
  --brand-red: #e31e24;
  --brand-dark: #111827;
  --brand-mid: #374151;
  --brand-light: #f7f7f7;
  --ui-bg: #ffffff;
  --ui-shadow: 0 4px 14px rgba(0,0,0,0.12);
}

*{ box-sizing: border-box; }
html, body { height: 100%; margin: 0; padding: 0; background: var(--brand-light); color: var(--brand-dark); }
body { font: 15px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji; }

#app { display: grid; grid-template-rows: auto 1fr; height: 100dvh; }

.topbar {
  display: grid; grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  background: var(--ui-bg);
  box-shadow: var(--ui-shadow);
  position: sticky; top: 0; z-index: 10;
}
.brand { display: flex; align-items: center; gap: 10px; }
.brand .dot { width: 10px; height: 10px; border-radius: 50%; background: var(--brand-red); display: inline-block; }
.brand .title { font-weight: 700; letter-spacing: 0.2px; }
.controls-left { justify-self: start; }
.controls-right { justify-self: end; }

.search-wrap { display: inline-flex; gap: 6px; align-items: center; }
.search-wrap input {
  width: min(52vw, 360px);
  padding: 8px 10px;
  border: 1px solid #ddd; border-radius: 8px;
  outline: none;
}
.search-wrap input:focus { border-color: var(--brand-red); box-shadow: 0 0 0 3px rgba(227,30,36,0.15); }
.btn {
  padding: 8px 10px; border-radius: 8px; border: 1px solid #ddd;
  background: #fff; cursor: pointer;
}
.btn:hover { border-color: #bbb; }

.search-count {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
  background: #fff;
  font-size: 12px;
  color: #374151;
}

#viewport { position: relative; height: 100%; width: 100%; touch-action: none; }
#map { position: absolute; inset: 0; width: 100%; height: 100%; display: block; }

.floating-controls {
  position: absolute; right: 12px; bottom: 12px; display: grid; gap: 10px;
}
.fab {
  width: 48px; height: 48px; border-radius: 12px; border: none;
  box-shadow: var(--ui-shadow); background: var(--ui-bg); cursor: pointer; font-size: 22px;
}
.fab:active { transform: scale(0.98); }

.toast {
  position: absolute; left: 50%; transform: translateX(-50%);
  bottom: 76px; background: rgba(17,24,39,0.9); color: #fff;
  padding: 8px 10px; border-radius: 8px; opacity: 0; pointer-events: none; transition: opacity .2s;
}
.toast.show { opacity: 1; }

.canvas-text { text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; }
